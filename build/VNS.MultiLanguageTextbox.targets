<?xml version="1.0" encoding="utf-8"?>
<Project ToolsVersion="4.0"
	xmlns="http://schemas.microsoft.com/developer/msbuild/2003">

	<ItemGroup>
		<!-- Include files as Content so they're copied to output and published -->
		<Content Include="$(MSBuildThisFileDirectory)..\contentFiles\any\any\wwwroot\App_Plugins\VNS.MultiLanguageTextbox\**\*.*" Link="wwwroot\App_Plugins\VNS.MultiLanguageTextbox\%(RecursiveDir)%(Filename)%(Extension)" CopyToOutputDirectory="PreserveNewest" CopyToPublishDirectory="PreserveNewest">
		</Content>
	</ItemGroup>

	<!-- Copy files to project wwwroot only during Build (not Publish) -->
	<Target Name="CopyVNSMultiLanguageTextboxFiles" AfterTargets="Build" Condition="'$(IsCrossTargetingBuild)' != 'true'">
		<ItemGroup>
			<VNSFiles Include="$(MSBuildThisFileDirectory)..\contentFiles\any\any\wwwroot\App_Plugins\VNS.MultiLanguageTextbox\**\*.*" />
		</ItemGroup>

		<!-- Only copy to project wwwroot if not publishing -->
		<Copy SourceFiles="@(VNSFiles)" DestinationFiles="@(VNSFiles->'$(ProjectDir)wwwroot\App_Plugins\VNS.MultiLanguageTextbox\%(RecursiveDir)%(Filename)%(Extension)')" SkipUnchangedFiles="true" Condition="'$(IsPublishing)' != 'true'" />
	</Target>

	<!-- Remove project wwwroot files before publish to avoid conflicts -->
	<Target Name="CleanVNSMultiLanguageTextboxFiles" BeforeTargets="PrepareForPublish">
		<ItemGroup>
			<VNSFilesToClean Include="$(ProjectDir)wwwroot\App_Plugins\VNS.MultiLanguageTextbox\**\*.*" />
		</ItemGroup>
		<Delete Files="@(VNSFilesToClean)" />
	</Target>

</Project>
